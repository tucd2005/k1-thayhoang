<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    Tính tổng giá tiền của các đơn hàng đã hoàn thành Thực hiện viết hàm
    calculateTotalCompletedAmount để tính tổng tiền của các order có amount lớn
    hơn giá trị nhập vào và status = completed Nếu không tìm được phần tử nào
    thì in ra []. Ví dụ: //Input const orders = [ { id: 1, amount: 100, date:
    "2025-04-01", status: "completed" }, { id: 2, amount: 200, date:
    "2025-04-02", status: "pending" }, { id: 3, amount: 150, date: "2025-04-03",
    status: "completed" }, { id: 4, amount: 300, date: "2025-04-04", status:
    "shipped" }, { id: 5, amount: 50, date: "2025-04-05", status: "cancelled" },
    { id: 6, amount: 120, date: "2025-04-06", status: "completed" }, { id: 7,
    amount: 180, date: "2025-04-07", status: "shipped" }, { id: 8, amount: 220,
    date: "2025-04-08", status: "pending" }, { id: 9, amount: 350, date:
    "2025-04-09", status: "completed" }, { id: 10, amount: 500, date:
    "2025-04-10", status: "completed" }, ]; function
    calculateTotalCompletedAmount(array, amount) { // Tính toán và in ra kết quả
    } // Output const result = calculateTotalCompletedAmount(orders, 150);
    console.log(result); // 850 const result2 =
    calculateTotalCompletedAmount(orders, 100); console.log(result2); // 1120
  </body>
  <script>
    const orders = [
      { id: 1, amount: 100, date: "2025-04-01", status: "completed" },
      { id: 2, amount: 200, date: "2025-04-02", status: "pending" },
      { id: 3, amount: 150, date: "2025-04-03", status: "completed" },
      { id: 4, amount: 300, date: "2025-04-04", status: "shipped" },
      { id: 5, amount: 50, date: "2025-04-05", status: "cancelled" },
      { id: 6, amount: 120, date: "2025-04-06", status: "completed" },
      { id: 7, amount: 180, date: "2025-04-07", status: "shipped" },
      { id: 8, amount: 220, date: "2025-04-08", status: "pending" },
      { id: 9, amount: 350, date: "2025-04-09", status: "completed" },
      { id: 10, amount: 500, date: "2025-04-10", status: "completed" },
    ];
    function calculateTotalCompletedAmount(array, amount) {
      // Tạo biến lưu tổng tiền
      let total = 0;

      // Tạo biến kiểm tra xem có đơn nào thỏa điều kiện không
      let hasValidOrder = false;

      // Duyệt qua từng phần tử trong mảng
      for (let i = 0; i < array.length; i++) {
        const order = array[i];

        // Kiểm tra nếu đơn hàng có status là 'completed' và amount lớn hơn giá trị đưa vào
        if (order.status === "completed" && order.amount > amount) {
          total += order.amount; // cộng dồn amount
          hasValidOrder = true; // đánh dấu là đã có ít nhất 1 đơn hợp lệ
        }
      }

      // Nếu không có đơn hàng nào thỏa điều kiện thì trả về []
      if (!hasValidOrder) {
        return [];
      }

      // Trả về tổng tiền
      return total;
    }

    // Output
    const result = calculateTotalCompletedAmount(orders, 150);
    console.log(result); // 850

    const result2 = calculateTotalCompletedAmount(orders, 100);
    console.log(result2); // 1120
  </script>
</html>
