<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    Viết hàm nhóm đặc điểm của người dùng Viết hàm groupBy(arr, key) nhận vào
    một danh sách người dùng và một key, trả về object nhóm người dùng theo đặc
    điểm key.
  </body>
  <script>
    // Input:
    const users = [
      { fullname: "Nguyen Van A", age: 20, address: "LangSon" },
      { fullname: "Nguyen Van B", age: 22, address: "BacGiang" },
      { fullname: "Nguyen Van C", age: 21, address: "HaNoi" },
      { fullname: "Nguyen Van D", age: 22, address: "HaNoi" },
      { fullname: "Nguyen Van E", age: 32, address: "LangSon" },
    ];

    function groupBy(arr, key) {
      // Xử lý và in ra kết quả
      return arr.reduce((acc, cur) => {
        const groupAge = cur[key];
        if (!acc[groupAge]) {
          acc[groupAge] = [];
        }
        acc[groupAge].push(cur);

        return acc;
      }, {});
    }

    // Output:
    const result1 = groupBy(users, "age"); // nhóm theo tuổi

    console.log(result1);

    // {
    // 	20: [
    // 		{ fullname: "Nguyen Van A", age: 20, address: "LangSon" }
    // 	],
    // 	21: [
    // 		{ fullname: "Nguyen Van C", age: 21, address: "HaNoi" }
    // 	],
    // 	22: [
    // 		{ fullname: "Nguyen Van B", age: 22, address: "BacGiang" },
    // 		{ fullname: "Nguyen Van D", age: 22, address: "HaNoi" }
    // 	],
    // 	32: [
    // 		{ fullname: "Nguyen Van E", age: 32, address: "LangSon" }
    // 	]
    // }

    const result2 = groupBy(users, "address"); // nhóm theo địa chỉ

    console.log(result2);

    // {
    // 	"LangSon": [
    // 		{ fullname: "Nguyen Van A", age: 20, address: "LangSon" },
    // 		{ fullname: "Nguyen Van E", age: 32, address: "LangSon" }
    // 	],
    // 	"BacGiang": [
    // 		{ fullname: "Nguyen Van B", age: 22, address: "BacGiang" }
    // 	],
    // 	"HaNoi": [
    // 		{ fullname: "Nguyen Van C", age: 21, address: "HaNoi" },
    // 		{ fullname: "Nguyen Van D", age: 22, address: "HaNoi" }
    // 	]
    // }
  </script>
</html>
